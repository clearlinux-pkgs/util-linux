Util-linux 2.36 Release Notes
=============================
 
Release highlights
------------------

blkdiscard(8) refuses to proceed if filesystem or RAID signatures are found in
interactive mode (executed on a terminal). The option --force is required to
the discard data.

irqtop(1) and lsirq(1) are NEW COMMANDS to monitor kernel interrupts.

cal(1) provides a new --vertical command line option to output calendar
in vertical mode.

blkzone(8) implements open/close/finish commands now.

unshare(1) and nsenter(1) commands support the time namespace now.

agetty(8) now supports multiple paths in the option --issue-file.

The commands fdisk(8), sfdisk(8), cfdisk(8), mkswap(8) and wipefs(8) now
support block devices locking by flock(2) to better behave with udevd or other
tools. Ffor more details see https://systemd.io/BLOCK_DEVICE_LOCKING/.  This
feature is controlled by a new command line option --lock and
$LOCK_BLOCK_DEVICE environmental variable.

dmesg(1) supports a new command line option --follow-new to wait and print only
new kernel messages.

fdisk(8) provides a new command line option --list-details to print more
information about partition table. Another new command line option is
--noauto-pt. It's usable to don't automatically create default partition table
on empty devices.

The command fdisk(8) and sfdisk(8) support user-friendly aliases for partition
types. For example "echo 'size=10M type=uefi' | sfdisk /dev/sda" creates EFI 
system partition on sda.

fstrim(8) supports new command line option --listed-in to specify alternatives 
where to read list of the filesystems. This option makes fstrim systemd service
file more portable between distributions.

libfdisk provides API to relocate GPT backup header. This feature is usable to 
generate small, but still valid images for containers and resize the image later.
This new feature is exported to command line by "sfdisk --relocate".

mount(8) now supports mount by ID= tag. The tag is a block device identifier as
used by udevd in /dev/disk/by-id. It's usually WWN or another HW related
identifier.  This feature is designed for users who need to avoid filesystem or
partition table dependence in fstab. The udevd is required for this tag.

login(1) supports list of "message of the day" files and directories in the
option MOTD_FILE= in /etc/login.defs now. The default value is
/usr/share/misc/motd:/run/motd:/etc/motd.

All tools which read /etc/login.defs is possible to compile with libeconf now.

The build system provides a new option --disable-hwclock-gplv3 to avoid optional 
GPLv3 code in the command hwclock(8).

The build system supports a new option --with-cryptsetup=dlopen to use dlopen
for libcryptsetup in libmount dm-verity support. This is a temporary workaround
to avoid collisions between JSON libraries and to reduce dependencies overhead in
libmount.  Note that dm-verity support is still EXPERIMENTAL and disabled by
default.

more(1) has been refactored to meet 21st century codding standards. Thanks to
Sami Kerola.

Thanks to Michael Kerrisk for massive man pages cleanup, and thanks to Evgeny 
Vereshchagin for work on better integration with CIFuzz and Travis.


Changes between v2.35 and v2.36
-------------------------------

Manual pages:
   - ipcmk.1, ipcs.1, lsipc.1  explicitly mention "System V"  [Michael Kerrisk (man-pages)]
   - fdisk.8  fix typo  [Shigeki Morishima]
   - Standardize on AUTHORS as section title  [Michael Kerrisk (man-pages)]
   - Standardize on CONFORMING TO as section title  [Michael Kerrisk (man-pages)]
   - Standardize on ENVIRONMENT as section title  [Michael Kerrisk (man-pages)]
   - Standardize on EXAMPLE as section title  [Michael Kerrisk (man-pages)]
   - Standardize on EXIT STATUS as section title  [Michael Kerrisk (man-pages)]
   - Standardize on OPTIONS as section title  [Michael Kerrisk (man-pages)]
   - ipcmk.1, ipcrm.1, ipcs.1, lsipc.1  SEE ALSO  add sysvipc(7)  [Michael Kerrisk (man-pages)]
   - kill.1  improve the description of the --timout option  [Michael Kerrisk (man-pages)]
   - kill.1  various language, spelling, and formatting fixes  [Michael Kerrisk (man-pages)]
   - login.1  SEE ALSO  add utmp(5), lastlog(8)  [Michael Kerrisk (man-pages)]
   - login.1  formatting fixes  [Michael Kerrisk (man-pages)]
   - login.1  various minor wording fixes  [Michael Kerrisk (man-pages)]
   - losetup.8  Fix "--direct-io" defaults  [Rupesh Girase]
   - mount.8  Miscellaneous wording, grammar, and formatting fixes  [Michael Kerrisk (man-pages)]
   - mount.8  Rewrite FILESYSTEM-SPECIFIC MOUNT OPTIONS intro  [Michael Kerrisk (man-pages)]
   - mount.8  SEE ALSO  add some obvious references  [Michael Kerrisk (man-pages)]
   - mount.8  Typo fix (remove an accidental paragraph break)  [Michael Kerrisk (man-pages)]
   - mount.8, umount.8  Clarify that "namespace" means "mount namespace"  [Michael Kerrisk (man-pages)]
   - mount.8, umount.8  Consistently format pathnames with italic  [Michael Kerrisk (man-pages)]
   - nsenter.1  clarify the intro discussion  [Michael Kerrisk]
   - nsenter.1  note that 'file' can be a bind mount  [Michael Kerrisk]
   - nsenter.1, unshare.1  add a reference to time_namespaces(7)  [Michael Kerrisk]
   - nsenter.1, unshare.1  remove repeated references to clone(2)  [Michael Kerrisk]
   - nsenter.1, unshare.1  update references to *_namespaces(7) pages  [Michael Kerrisk]
   - order AUTHORS / COPYRIGHT / SEE ALSO / AVAILABILITY consistently  [Michael Kerrisk (man-pages)]
   - order ENVIRONMENT / FILES / CONFORMING TO consistently  [Michael Kerrisk (man-pages)]
   - order NOTES / HISTORY / BUGS / EXAMPLE consistently  [Michael Kerrisk (man-pages)]
   - rename EXAMPLE section to EXAMPLES  [Michael Kerrisk (man-pages)]
   - rename RETURN VALUES to RETURN VALUE  [Michael Kerrisk (man-pages)]
   - reword su.1 description  [Karel Zak]
   - runuser.1  Various wording and formatting fixes  [Michael Kerrisk (man-pages)]
   - runuser.1, su.1  miscellaneous wording and formatting fixes  [Michael Kerrisk (man-pages)]
   - script.1  Miscellaneous wording, grammar, and formatting fixes  [Michael Kerrisk (man-pages)]
   - scriptlive.1  Miscellaneous wording, grammar, and formatting fixes  [Michael Kerrisk (man-pages)]
   - scriptreplay.1  Miscellaneous wording, grammar, and formatting fixes  [Michael Kerrisk (man-pages)]
   - setpriv.1  Minor formatting and typo fixes  [Michael Kerrisk (man-pages)]
   - setpriv.1  Various minor wording and formatting fixes  [Michael Kerrisk (man-pages)]
   - setpriv.1  warn users of restrictions on capability changes  [Michael Kerrisk (man-pages)]
   - umount.8  use "filesystem" consistently  [Michael Kerrisk (man-pages)]
   - unshare.1  EXAMPLES  improve persistent mount namespace example  [Michael Kerrisk (man-pages)]
   - unshare.1  clarify description and example for --mount=<path>  [Michael Kerrisk (man-pages)]
   - unshare.1  clarify that --pid=<file> requires --fork  [Michael Kerrisk (man-pages)]
   - unshare.1  fix examples, part 1  [Michael Kerrisk]
   - unshare.1  fix examples, part 2  [Michael Kerrisk]
   - unshare.1  fix examples, part 3  [Michael Kerrisk]
   - unshare.1  improve intro paragraphs  [Michael Kerrisk]
   - unshare.1  typo fix  [Michael Kerrisk (man-pages)]
   - use the term "exit status"  [Michael Kerrisk (man-pages)]
   - various  reword "allow(s) to"  [Michael Kerrisk (man-pages)]
   - wording fix  "another" ==> "other"  [Michael Kerrisk (man-pages)]
Subject:
   - docs  change from nofill to fill mode  [Bjarni Ingi Gislason]
   - docs  disk-utils  change "allows to <verb>" to "allows <verb>ing"  [Bjarni Ingi Gislason]
   - docs  remove unnecessary paragraph macros  [Bjarni Ingi Gislason]
agetty:
   - (man) add "white" color name  [Karel Zak]
   - (man) fix typo  [Karel Zak]
   - extend --issue-file to support multiple paths  [Karel Zak]
   - ignore ^C  [Karel Zak]
   - save the original speed on --keep-baud  [Karel Zak]
bash-completion:
   - chmod -x  [Karel Zak]
   - release preparations  [Sami Kerola]
   - umount explicitly needs gawk  [Wolfram Sang]
   - update irqtop and lsirq completions  [Sami Kerola]
bash-completion/umount:
   - shell charaters escape  [Etienne Mollier]
blkdiscard:
   - (man) offset and length must be sector aligned  [Lukas Czerner]
   - Refuse to proceed if signatures are found  [Lukas Czerner]
   - use O_EXCL, add --force  [Karel Zak]
blkzone:
   - Add --force option  [Shin'ichiro Kawasaki]
   - add open/close/finish commands  [Aravind Ramesh]
   - deny destructive ioctls on busy blockdev  [Johannes Thumshirn]
   - ioctl related code refactoring  [Damien Le Moal]
   - remove unnecessary initializations  [Karel Zak]
blockdev:
   - Don't fail on missing start sector  [Stanislav Brabec]
build-sys:
   - Fix autogenerated URL in ChangeLog  [Chris Hofstaedtler]
   - add $LDADD and libcommon to test_logindefs_LDADD  [Karel Zak]
   - add --disable-hwclock-gplv3  [Karel Zak]
   - add --enable-ubsan to make it possible to build util-linux with UBSan  [Evgeny Vereshchagin]
   - add --enable-werror  [Karel Zak]
   - add --enable-werror to devel build scenarios  [Karel Zak]
   - add -Waddress-of-packed-member  [Karel Zak]
   - add missing LDADD to blkid test  [Karel Zak]
   - cleanup $vendordir use  [Karel Zak]
   - fix blkdiscard blkid.h use  [Karel Zak]
   - fix chfn-chsh configure help text  [Karel Zak]
   - fix irqtop compilation with -lslang  [Karel Zak]
   - make lsirq and irqtop optional  [Karel Zak]
   - release++ (v2.36-rc1)  [Karel Zak]
   - release++ (v2.36-rc2)  [Karel Zak]
   - remove redundard includes  [Karel Zak]
   - remove unneeded include of generated file  [Zbigniew Jędrzejewski-Szmek]
   - rename automake variable to match define name  [Zbigniew Jędrzejewski-Szmek]
cal:
   - Add column mode  [Aurelien LAJOIE]
   - Add helper functions for left align  [Aurelien LAJOIE]
   - Add test, all are checked against ncal  [Aurelien LAJOIE]
   - Add weekdays into cal_control  [Aurelien LAJOIE]
   - Correctly center the year  [Aurelien LAJOIE]
   - Remove todo  [Aurelien LAJOIE]
   - Update man page  [Aurelien LAJOIE]
   - correctly set the week width  [Aurelien LAJOIE]
   - use a const char*  [Aurelien LAJOIE]
   - use size_t to calculate width [lgtm scan]  [Karel Zak]
cfdisk:
   - add --lock and LOCK_BLOCK_DEVICE  [Karel Zak]
chfn:
   - Make readline prompt for each field on a separate line  [Damien Goutte-Gattat]
chrt:
   - Use sched_setscheduler system call directly  [jonnyh64]
chsh:
   - (man) fix default behavior description  [Karel Zak]
col:
   - fix output when first line does not have newline character  [Sami Kerola]
cryptsetup:
   - add option to use via dlopen in libmount  [Luca Boccassi]
ctrlaltdel:
   - display error message indicated by errno  [Sami Kerola]
disk-utils:
   - Add reference to ufiformat(8)  [Wojtek Kaniewski]
dmesg:
   - add --follow-new  [Konstantin Khlebnikov]
   - adjust timestamps according to suspended time  [Konstantin Khlebnikov]
doc:
   - Fix some warnings from "test-groff" for manuals  [Bjarni Ingi Gislason]
   - disk-utils/*  Fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - libuuid/man/*  Fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - login-utils/*  Fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - misc-utils/*  Fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - schedutils/*  Fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - sys-utils/*  fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - term-utils/*  fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
   - text-utils/*  fix some warnings from "mandoc -T lint"  [Bjarni Ingi Gislason]
docs:
   - (man) remove double quotes (") in .SH lines  [Michael Kerrisk (man-pages)]
   - Correct ChangeLog URL to history log.  [Anatoly Pugachev]
   - Fix dead references to kernel documentation  [Yannick Le Pennec]
   - Improve grammar  [Ben Frankel]
   - Some minor fixes in some manuals  [Bjarni Ingi Gislason]
   - add blkdiscard to ReleaseNotes  [Karel Zak]
   - add note about AsciiDocs  [Karel Zak]
   - add rev(1) to TODO  [Karel Zak]
   - add swap to 1st fstab field  [Karel Zak]
   - add terminal hyperlinks to TODO  [Karel Zak]
   - add v2.36-ReleaseNotes  [Karel Zak]
   - fix release notes file name  [Karel Zak]
   - fix spacing in irqtop and lsirq manual pages  [Sami Kerola]
   - improve size arguments description in --help output  [Karel Zak, ed]
   - kill.1 add note about shell-internal kill implementations  [Sami Kerola]
   - mark some branches as github-only  [Karel Zak]
   - mention Coverity Scan and the Fossies codespell report  [Evgeny Vereshchagin]
   - misc-utils  change "allows to <verb>" to "allows <verb>ing"  [Bjarni Ingi Gislason]
   - nsenter(1)  fix further details in PID namespace section  [Stephen Kitt]
   - remove drone.io, add lgtm.com  [Karel Zak]
   - remove irqtop TODO item  [Sami Kerola]
   - remove trailing space in strings  [Bjarni Ingi Gislason]
   - renice(1)  Add chrt(1) to SEE ALSO  [Jann Horn]
   - reword others "allow to"  [Karel Zak]
   - update AUTHORS file  [Karel Zak]
   - update ReleaseNotes  [Karel Zak]
   - update v2.36-ReleaseNotes  [Karel Zak]
eject:
   - fix compiler warning [-Wformat-overflow]  [Karel Zak]
exfat:
   - Fix parsing exfat label  [Pali Rohár]
fdisk:
   - add --list-details  [Karel Zak]
   - add --lock and LOCK_BLOCK_DEVICE  [Karel Zak]
   - add --noauto-pt  [Karel Zak]
   - add support for parttype aliases  [Karel Zak]
   - better wording for '-B' in the man page  [Wolfram Sang]
   - improve list-types readability  [Karel Zak]
   - make sure label defined for some menu entries  [Karel Zak]
   - specify in '--help' that we can have multiple devices with '-l'  [Wolfram Sang]
   - update expected test outputs with command outputs  [Sami Kerola]
findmnt:
   - make xalloc use mroe robust  [Karel Zak]
fix typo:
   - yourbranch -> yourgit  [Soumendra Ganguly]
flock:
   - Add new example using shell IO redirection  [Jookia]
   - make examples in man page more readable  [Karel Zak]
fsck.cramfs:
   - fix macro usage  [Zbigniew Jędrzejewski-Szmek]
fstrim:
   - add --listed-in <file[ file ..]>  [Karel Zak]
   - do not use Protect setting in systemd service  [Karel Zak]
   - randomize timer start time across 100 minutes  [Sami Kerola]
   - rename --quite to --quite-unsupported  [Karel Zak]
   - run service and timer only if /etc/fstab is present  [Luca BRUNO]
getopt:
   - use examples installation directory in man page  [Sami Kerola]
hexdump:
   - fix typo, dcl instead of dc1  [Karel Zak]
hwclock:
   - fix audit exit status  [Karel Zak]
   - improve use of settimeofday() portability  [Karel Zak]
   - make glibc 2.31 compatible  [J William Piggott, Karel Zak]
   - update yacc file  [Sami Kerola]
ilib/strutils:
   - fix rounding in size_to_human_string()  [Karel Zak]
include:
   - add remove_entry() to env.h  [Sami Kerola]
   - cleanup pidfd inckudes  [Karel Zak]
include/c:
   - add USAGE_ARGUMENT  [Karel Zak]
include/nls:
   - remove unnecessary declaration  [Karel Zak]
ipcs:
   - ipcs.1 ipcs no longer needs read permission on IPC resources  [Michael Kerrisk]
iqrtop:
   - cleanup header  [Karel Zak]
irctop:
   - move source code to sys-utils/ directory  [Sami Kerola]
irqtop:
   - add bash-completion  [Sami Kerola]
   - add manual page  [Sami Kerola]
   - add struct irq_output  [Karel Zak]
   - add total and delta as own columns  [Sami Kerola]
   - avoid function like pre-processor definitions  [Sami Kerola]
   - change the update delay to use struct timeval  [Sami Kerola]
   - cleanup command line options  [Karel Zak]
   - cleanup man page  [Karel Zak]
   - cleanup sort stuff  [Karel Zak]
   - cleanup struct irq_stat use  [Karel Zak]
   - display number of new interupts in-between updates  [Sami Kerola]
   - do not use fixed size /proc/interrupts line buffer  [Sami Kerola]
   - don't print header for --once  [Karel Zak]
   - fix all warnings  [zhenwei pi]
   - fix open file descriptor leak  [Sami Kerola]
   - hide cursor when in interactive mode  [Sami Kerola]
   - implement a new utility to display kernel interrupt  [zhenwei pi]
   - improve header  [Sami Kerola]
   - include hostname and timestamp to output header  [Sami Kerola]
   - init README  [zhenwei pi]
   - keep WINDOW pointer in functions only  [Karel Zak]
   - keep table in functions only  [Karel Zak]
   - make util-linux build-system to build the command  [Sami Kerola]
   - minor cleanup  [Karel Zak]
   - move WINDOW back to control struct  [Karel Zak]
   - move independent code to irq-common.c  [Karel Zak]
   - move screen update to a separate function  [Sami Kerola]
   - remove dead code  [Karel Zak]
   - remove unnecessary code  [Karel Zak]
   - reorder function  [Karel Zak]
   - separate normal and ncurses way  [Karel Zak]
   - separate screen and scols code  [Karel Zak]
   - simplify terminal resizing  [Karel Zak]
   - small cleanup in main()  [Karel Zak]
   - tidy coding style and update usage() text  [Sami Kerola]
   - trim white spaces from end of name field  [Sami Kerola]
   - use -J for JSON  [Karel Zak]
   - use epoll event loop  [Sami Kerola]
   - use lib/monotonic.c to determine uptime  [Sami Kerola]
   - use libsmartcols  [Sami Kerola]
   - use memory allocation that check errors  [Sami Kerola]
   - use name instead of desc as irq name field referal  [Sami Kerola]
   - use runtime control structure  [Sami Kerola]
   - use util-linux libcommon facilities  [Sami Kerola]
kill:
   - include sys/types.h before checking SYS_pidfd_send_signal  [Sami Kerola]
last:
   - fix use of non-terminated utmp->ut_line  [Karel Zak]
lib/blkdev:
   - add support for --lock and LOCK_BLOCK_DEVICE  [Karel Zak]
lib/color-names:
   - add "white" between human-readable  [Karel Zak]
lib/mangle:
   - check for the NULL string argument  [Gaël PORTAY]
lib/mbsalign:
   - add function to calculate width  [Karel Zak]
lib/path:
   - add ul_path_is_accessible()  [Karel Zak]
lib/pwdutils:
   - add xgetgrnam  [Matthew Harm Bekkema]
lib/randutils:
   - use explicit data types for bit ops  [Karel Zak]
lib/strutils:
   - add test for strdup_to_struct_member()  [Karel Zak]
   - fix floating point exception  [Karel Zak]
   - fix parse_size() for large numbers  [Karel Zak]
   - fix uint64_t overflow  [Karel Zak]
   - remove unnecessary include  [Karel Zak]
   - use directly err()  [Karel Zak]
lib/sysfs:
   - fix prefix use in sysfs_devname_is_hidden()  [Karel Zak]
libblkid:
   - (docs) add missing references  [Karel Zak]
   - (docs) document new function  [Karel Zak]
   - Add support for zonefs  [Damien Le Moal]
   - Fix UTF-16 support in function blkid_encode_to_utf8()  [Pali Rohár]
   - add dax capability detection in topology probing  [Anthony Iliopoulos]
   - fix compiler warning [-Wsign-compare]  [Karel Zak]
   - fix fstatat() use in blkid__scan_dir()  [Karel Zak]
   - move UTF encoding function to lib/  [Karel Zak]
   - remove blkid_llseek()  [Karel Zak]
   - remove unnecessary uuid.h  [Karel Zak]
libfdisk:
   - (docs) add missing comment  [Karel Zak]
   - (docs) add missing references  [Karel Zak]
   - (docs) document new functions  [Karel Zak]
   - (docs) fix typos  [Karel Zak]
   - (dos) be more explicit in fdisk_verify_disklabel() output  [Karel Zak]
   - (dos) be more robust about max number of partitions  [Karel Zak]
   - (dos) fix default partition start  [Karel Zak]
   - (gpt) add GPT debug mask  [Karel Zak]
   - (gpt) add functionality to move backup header  [Karel Zak]
   - (gpt) cleanup and consolidate write code  [Karel Zak]
   - (gpt) cleanup entries array size calculations  [Karel Zak]
   - (gpt) fix compiler warning [-Wmaybe-uninitialized]  [Karel Zak]
   - (gpt) partition name default to empty string  [Karel Zak]
   - (script) accept sector-size, ignore unknown headers  [Karel Zak]
   - (script) fix memory leak  [Karel Zak]
   - (script) fix partno_from_devname()  [Karel Zak]
   - (script) fix segmentation fault  [Gaël PORTAY]
   - add Linux /var, /var/tmp and root verity GPT partition types  [nl6720]
   - add fdisk_set_disklabel_id_from_string()  [Karel Zak]
   - add missing comments  [Karel Zak]
   - add partition type aliases and shortcuts  [Karel Zak]
   - fix __copy_partition()  [Karel Zak]
   - fix alignment logic for tiny partitions  [Karel Zak]
   - fix const char mess  [Karel Zak]
   - fix partition calculation for BLKPG_* ioctls  [Karel Zak]
   - fix pointer wraparound warning  [Sami Kerola]
   - make sure we check for maximal number of partitions  [Karel Zak]
   - make sure we use NULL after free  [Karel Zak]
   - remove unwanted assert()  [Karel Zak]
   - use ul_encode_to_utf8()  [Karel Zak]
libfdisk, unshare:
   - fix gcc-4.9.4 warnings  [Toni Uhlig]
libmount:
   - (docs) add missing references  [Karel Zak]
   - (docs) fix typo, remove unused reference  [Karel Zak]
   - (parser) fix memory leak on error before end-of-file  [Karel Zak]
   - (umount) FS lookup refactoring  [Karel Zak]
   - (umount) fix FD leak  [Karel Zak]
   - (verity) remove unnecessary empty lines  [Karel Zak]
   - Avoid triggering autofs in lookup_umount_fs_by_statfs  [Fabian Vogt]
   - add support for ID=  [Karel Zak]
   - add support for signed verity devices  [Luca Boccassi]
   - do not unnecessarily chmod utab.lock  [Tycho Andersen]
   - fix condition for mountinfo filter  [Karel Zak]
   - fix mount -a EBUSY for cifs  [Roberto Bergantinos Corpas]
   - fix x- options use for non-root users  [Karel Zak]
   - improve smb{2,3} support  [Karel Zak]
   - make mnt_context_find_umount_fs() more extendable  [Karel Zak]
   - move "already mounted" code to separate function  [Karel Zak]
   - smb2 is unsupported alias  [Karel Zak]
   - try read-only mount on write-protected superblock too  [Karel Zak]
   - use mnt_stat_mountpoint() on more places  [Karel Zak]
libsmartcols:
   - (docs) add missing references  [Karel Zak]
   - (docs) fix reference  [Karel Zak]
   - (sample) check scols_line_refer_data() return code [coverity scan]  [Karel Zak]
   - (sample) check scols_line_set_data() return code [coverity scan]  [Karel Zak]
   - (sample) remove unnecessary check [coverity scan]  [Karel Zak]
   - (sample) remove unused variable  [Karel Zak]
   - (smaple) check scols_line_set_data() return code [coverity scan]  [Karel Zak]
   - don't calculate with encoding on scols_table_enable_noencoding()  [Karel Zak]
libuuid:
   - (test) cleanup unused memory [coverity scan]  [Karel Zak]
   - (test) close fd [coverity scan]  [Karel Zak]
   - (test) make sure UUID is terminated [coverity scan]  [Karel Zak]
   - add uuid_parse_range()  [Zane van Iperen]
   - add uuid_parse_range() to man page and symbol-table  [Karel Zak]
   - ensure variable is initialized [cppcheck]  [Sami Kerola]
   - improve uuid_unparse() performance  [Aurelien LAJOIE]
   - remove function alias  [Karel Zak]
login:
   - add MOTD_FIRSTONLY=  [Karel Zak]
   - add support for directories in MOTD_FILE=  [Karel Zak]
   - avoid lseek() with pread() and pwrite()  [Sami Kerola]
   - cleanup -f in usage() and comments  [Karel Zak]
   - cleanup get_hushlogin_status() use  [Karel Zak]
   - fix -f description in the man-page  [Karel Zak]
   - fixed invalid sizeof usage  [Toni Uhlig]
   - keep default MOTD_FILE= backwardly compatible  [Karel Zak]
   - use PAM_SILENT to propagate hushlogin to PAM  [Karel Zak]
logindefs:
   - use xalloc.h, code cleanup  [Karel Zak]
lsblk:
   - Add SERIAL column to the SCSI output mode.  [Milan Broz]
   - Fall back to ID_SERIAL  [Sven Wiltink]
   - Ignore hidden devices  [Ritika Srivastava]
   - add dax (direct access) capability column  [Anthony Iliopoulos]
   - fix -P regression from v2.34  [Karel Zak]
lscpu:
   - Adapt MIPS cpuinfo  [Jiaxun Yang]
   - Add shared cached info for s390 lscpu -C  [Sumanth Korikkar]
   - cleanup caches code  [Karel Zak]
   - fix SIGSEGV on archs without drawers & books  [Karel Zak]
   - use official name for HiSilicon tsv110  [Karel Zak]
lsirq:
   - add -P option  [Karel Zak]
   - add -n option  [Karel Zak]
   - add new command  [Karel Zak]
   - mark --json and --pairs options mutually exclusive  [Sami Kerola]
lslogins:
   - remove unnecessary brackets  [Karel Zak]
   - use lastlog as wtmp fallback  [Sami Kerola]
lsmem:
   - make it without leaks for non-error output  [Karel Zak]
   - report inaccessible /sys/devices/system/memory  [Karel Zak]
lsns:
   - add time namespace support  [Adrian Reber]
manual pages:
   - adjtime_config.5  format pathname with .I  [Michael Kerrisk (man-pages)]
mkswap:
   - add --lock and LOCK_BLOCK_DEVICE  [Karel Zak]
more:
   - add display_file() to show files and stdin  [Sami Kerola]
   - avoid defining special characters locally  [Sami Kerola]
   - avoid libmagic telling an empty file is binary  [Sami Kerola]
   - do not allocate shell command buffer from stack  [Sami Kerola]
   - do not reset parent process terminal in execute()  [Sami Kerola]
   - drop setuid permissions before executing anything  [Sami Kerola]
   - fix SIGSTOP and SIGCONT handling  [Sami Kerola]
   - fix moving backwards so that it can reach begining of the file  [Sami Kerola]
   - make execute() more robust and timely  [Sami Kerola]
   - make page and arrow up/down to update view  [Sami Kerola]
   - move code blocks from more_key_command() to functions  [Sami Kerola]
   - move currently open file to control structure  [Sami Kerola]
   - move runtime usage output to a function  [Sami Kerola]
   - refactor and clarify code  [Sami Kerola]
   - remove kill_line() in favor of erase_prompt()  [Sami Kerola]
   - remove underlining related code  [Sami Kerola]
   - replace siglongjmp() and signal() calls with signalfd()  [Sami Kerola]
   - restructure print_buf() if-else with continue  [Sami Kerola]
   - simplify initterm()  [Sami Kerola]
   - target all standard streams when calling fflush()  [Sami Kerola]
   - tell in run time help what the 'v' will execute as editor  [Sami Kerola]
   - use getopt_long() to parse options  [Sami Kerola]
   - use libmagic to identify binary files  [Sami Kerola]
   - use off_t and cc_t to clarify what variables attempt to represent  [Sami Kerola]
   - use single exit path to ensure resource freeing is unified  [Sami Kerola]
mount:
   - (man) cleanup devices identifiers section  [Karel Zak]
   - Update man page Synopsis  [Marcel Waldvogel]
   - support "-o move" on command line  [Karel Zak]
nsenter:
   - add support for the time namespace  [Adrian Reber]
po:
   - merge changes  [Karel Zak]
   - update cs.po (from translationproject.org)  [Petr Písař]
   - update de.po (from translationproject.org)  [Mario Blättermann]
   - update es.po (from translationproject.org)  [Antonio Ceballos Roa]
   - update fr.po (from translationproject.org)  [Frédéric Marchal]
   - update hr.po (from translationproject.org)  [Božidar Putanec]
   - update ja.po (from translationproject.org)  [Takeshi Hamasaki]
   - update pl.po (from translationproject.org)  [Jakub Bogusz]
   - update pt.po (from translationproject.org)  [Pedro Albuquerque]
   - update pt_BR.po (from translationproject.org)  [Rafael Fontenelle]
   - update uk.po (from translationproject.org)  [Yuri Chornoivan]
   - update zh_CN.po (from translationproject.org)  [Boyuan Yang]
pylibmount:
   - cleanup and sync UL_RaiseExc  [Karel Zak]
rename:
   - fix regression for symlink with non-existing target  [Mauricio Faria de Oliveira]
   - tests  add more symlink checks  [Mauricio Faria de Oliveira]
rev:
   - (man) add note about limitations  [Karel Zak]
   - report line on error  [Karel Zak]
script:
   - fix minor warning  [Sami Kerola]
scriptlive:
   - fix man page formatting  [Jakub Wilk]
   - fix typo  [Jakub Wilk]
scriptlive, scriptreplay:
   - cleanup --maxdelay man page description  [Karel Zak]
setarch:
   - add arm and aarch64 architectures to transition rules  [Alexey Gladkov]
   - fix stderr handling in uname26 tests  [Helge Deller]
   - make verify_arch_domain extendable  [Alexey Gladkov]
sfdisk:
   - (man) add note about type and shortcuts collision  [Karel Zak]
   - (man) fix typo  [Gaël PORTAY]
   - add --disk-id to change disk UUID/ID  [Karel Zak]
   - add --lock and LOCK_BLOCK_DEVICE  [Karel Zak]
   - add --relocate command  [Karel Zak]
   - avoid unneeded empty lines with '--list-free'  [Wolfram Sang]
   - extend --part-type, support aliases  [Karel Zak]
   - fix --append to PT with gaps  [Karel Zak]
   - fix previous --append patch, improve man page  [Karel Zak]
   - fix ref-counting for the script  [Karel Zak]
   - make sure we do not overlap on --move  [Karel Zak]
   - only report I/O errors on --move-data  [Karel Zak]
   - remove broken step alignment for --move  [Karel Zak]
su, runuser:
   - (man) add more info about PATH and PAM  [Karel Zak]
swapoff:
   - cleanup EXIT STATUS  [Karel Zak]
   - do not use 1 exist status at all  [Karel Zak]
sys-utils:
   - mount.8  split a long line into two  [Bjarni Ingi Gislason]
test_tiocsti:
   - check ioctl() return code [coverity scan]  [Karel Zak]
tests:
   - Add UDF hdd image with emoji label created by mkudffs 2.2  [Pali Rohár]
   - Fix for misc/fallocate test build failure.  [Mark Hindley]
   - Fix mountpoint test failure in build chroots.  [Mark Hindley]
   - add STATIC binaries to build-sys tests  [Karel Zak]
   - add checksum for cramfs/mkfs for BE 8192 (sparc64)  [Anatoly Pugachev]
   - add sanitize_env() check  [Sami Kerola]
   - add sfdisk --dump test  [Karel Zak]
   - add zonefs blkid test  [Karel Zak]
   - cleanup cramfs checksums  [Karel Zak]
   - cleanup fdisk based stuff  [Karel Zak]
   - don't use ASAN in build tests  [Karel Zak]
   - explain why MD tests with metadata v0.90 are KNOWN-FAIL  [Karel Zak]
   - fixes eject/umount on SPARC  [Anatoly Pugachev]
   - fixes fdisk/align-512-* tests  [Anatoly Pugachev]
   - fixes libmount/ on SPARC  [Anatoly Pugachev]
   - fixes mount tests on SPARC  [Anatoly Pugachev]
   - ignore the python libmount tests when they're run under UBSan  [Evgeny Vereshchagin]
   - sfdisk fill correctly gaps if default start requested  [Karel Zak]
   - skip "blkid/dm-err" when `mknod` doesn't work  [Evgeny Vereshchagin]
   - turn off detect_leaks on s390x, use more asan options  [Evgeny Vereshchagin]
   - update build-sys tests  [Karel Zak]
   - update fdisk outputs due to sizes rounding change  [Karel Zak]
travis:
   - build util-linux on arm64, ppc64le and s390x  [Evgeny Vereshchagin]
   - don't ask for Ubuntu release on XOS  [Karel Zak]
   - ignore memory leaks in checkusage  [Evgeny Vereshchagin]
   - install all the "official" build dependencies  [Evgeny Vereshchagin]
   - install llvm-* to get llvm-symbolizer  [Evgeny Vereshchagin]
   - integrate util-linux with Coverity Scan  [Evgeny Vereshchagin]
   - make it easier to switch to the next clang/gcc  [Evgeny Vereshchagin]
   - switch to Bionic  [Evgeny Vereshchagin]
   - switch to a newer version of macOS  [Evgeny Vereshchagin]
   - switch to clang-10  [Evgeny Vereshchagin]
   - switch to gcc-10  [Evgeny Vereshchagin]
   - turn off -Werror on precise and osx  [Evgeny Vereshchagin]
   - turn on -Werror  [Evgeny Vereshchagin]
   - turn on CIFuzz  [Evgeny Vereshchagin]
   - turn on UBsan on Travis CI to see how it goes  [Evgeny Vereshchagin]
umount:
   - don't try it as non-suid if not found mountinfo entry  [Karel Zak]
unshare:
   - (man) add note about signals on --fork  [Karel Zak]
   - Fix PID and TIME namespace persistence  [michael-dev]
   - Support names for map-user/group options  [Matthew Harm Bekkema]
   - allow custom uid/gid mappings in userns  [Matthew Harm Bekkema]
   - fix help message indentation  [Adrian Reber]
   - fix man page formatting  [Jakub Wilk]
   - support the time namespace  [Adrian Reber]
   - use '-T' for time namespace instead of '-t'  [Adrian Reber]
unshare --fork:
   - Ignore SIGINT and SIGTERM in parent  [Daan De Meyer]
various:
   - fix more lgtm scan warnings  [Sami Kerola]
   - use threadsafe versions of time functions [lgtm scan]  [Sami Kerola]
wipefs:
   - add --lock and LOCK_BLOCK_DEVICE  [Karel Zak]
   - fix man page --no-headings short option  [Karel Zak]
write:
   - fix potential string overflow  [Sami Kerola]

util-linux 2.35.2 Release Notes
===============================

bash-completion:
   - umount explicitly needs gawk  [Wolfram Sang]
blkdiscard:
   - (man) offset and length must be sector aligned  [Lukas Czerner]
blkzone:
   - deny destructive ioctls on busy blockdev  [Johannes Thumshirn]
chsh:
   - (man) fix default behavior description  [Karel Zak]
ctrlaltdel:
   - display error message indicated by errno  [Sami Kerola]
docs:
   - Correct ChangeLog URL to history log.  [Anatoly Pugachev]
   - Fix dead references to kernel documentation  [Yannick Le Pennec]
   - add swap to 1st fstab field  [Karel Zak]
   - kill.1 add note about shell-internal kill implementations  [Sami Kerola]
   - update AUTHORS file  [Karel Zak]
eject:
   - fix compiler warning [-Wformat-overflow]  [Karel Zak]
exfat:
   - Fix parsing exfat label  [Pali Rohár]
fstrim:
   - do not use Protect setting in systemd service  [Karel Zak]
hwclock:
   - fix audit exit status  [Karel Zak]
   - make glibc 2.31 compatible  [J William Piggott, Karel Zak]
ipcs:
   - ipcs.1 ipcs no longer needs read permission on IPC resources  [Michael Kerrisk]
kill:
   - include sys/types.h before checking SYS_pidfd_send_signal  [Sami Kerola]
lib/mangle:
   - check for the NULL string argument  [Gaël PORTAY]
lib/strutils:
   - remove redundant include  [Karel Zak]
libblkid:
   - Fix UTF-16 support in function blkid_encode_to_utf8()  [Pali Rohár]
   - fix compiler warning [-Wsign-compare]  [Karel Zak]
   - fix fstatat() use in blkid__scan_dir()  [Karel Zak]
libfdisk:
   - (script) accept sector-size, ignore unknown headers  [Karel Zak]
   - (script) fix memory leak  [Karel Zak]
   - (script) fix partno_from_devname()  [Karel Zak]
   - (script) fix segmentation fault  [Gaël PORTAY]
   - fix partition calculation for BLKPG_* ioctls  [Karel Zak]
   - remove unwanted assert()  [Karel Zak]
libmount:
   - do not unnecessarily chmod utab.lock  [Tycho Andersen]
   - fix mount -a EBUSY for cifs  [Roberto Bergantinos Corpas]
   - improve smb{2,3} support  [Karel Zak]
   - smb2 is unsupported alias  [Karel Zak]
lsblk:
   - Fall back to ID_SERIAL  [Sven Wiltink]
   - Ignore hidden devices  [Ritika Srivastava]
   - fix -P regression from v2.34  [Karel Zak]
lscpu:
   - Adapt MIPS cpuinfo  [Jiaxun Yang]
   - fix SIGSEGV on archs without drawers & books  [Karel Zak]
   - use official name for HiSilicon tsv110  [Karel Zak]
po:
   - merge changes  [Karel Zak]
   - update hr.po (from translationproject.org)  [Božidar Putanec]
   - update zh_CN.po (from translationproject.org)  [Boyuan Yang]
pylibmount:
   - cleanup and sync UL_RaiseExc  [Karel Zak]
scriptlive:
   - fix man page formatting  [Jakub Wilk]
   - fix typo  [Jakub Wilk]
sfdisk:
   - (man) fix typo  [Gaël PORTAY]
   - fix ref-counting for the script  [Karel Zak]
   - only report I/O errors on --move-data  [Karel Zak]
su, runuser:
   - (man) add more info about PATH and PAM  [Karel Zak]
tests:
   - Fix for misc/fallocate test build failure.  [Mark Hindley]
umount:
   - don't try it as non-suid if not found mountinfo entry  [Karel Zak]
wipefs:
   - fix man page --no-headings short option  [Karel Zak]
write:
   - fix potential string overflow  [Sami Kerola]

util-linux 2.35.1 Release Notes
===============================

build-sys:
   - add --disable-hwclock-gplv3  [Karel Zak]
chrt:
   - Use sched_setscheduler system call directly  [jonnyh64]
lib/randutils:
   - use explicit data types for bit ops  [Karel Zak]
libfdisk:
   - fix __copy_partition()  [Karel Zak]
   - make sure we use NULL after free  [Karel Zak]
libmount:
   - fix x- options use for non-root users  [Karel Zak]
po:
   - update uk.po (from translationproject.org)  [Yuri Chornoivan]
sfdisk:
   - make sure we do not overlap on --move  [Karel Zak]
   - remove broken step alignment for --move  [Karel Zak]

Util-linux 2.35 Release Notes
=============================

Release highlights
------------------

agetty(8) now provides a new command-line option --show-issue to print issue
file(s) on the current terminal in the same way how it will be printed when
agetty(8) executed regularly.
                             
agetty(8) supports /run/issue and /usr/lib/issue files and directrories now.
                             
dmesg(1) escapes unprintable and potentially unsafe characters by default. The
new command-line option --noescape disables this feature.
                             
kill(1) now uses pidfd kernel feature to implement a new command-line option
--timeout. The option allows sending a sequence of follow-up signals with
defined timeouts without the possibility of race.       
                             
script(1) now used the same PTY code as su(1) --pty. script(1) has also been
massively extended to support new logging features like log signals, stdin or
additional session information. The new features are implemented by the new
timing file format. The changes are backwardly compatible, and the original
timing file format is still the default. 
                             
scriptreplay(1) now allows to extract stdin or session summary from script(1)
logs.
                             
scriptlive(1) this NEW COMMAND re-execute stdin log by a shell in PTY session. 
                             
mount(8) and libmount now provides built-in dm-verity support if linked with
libcryptsetup. This new feature is EXPERIMENTAL and disabled by default; use
--with-cryptsetup to enable. 
                             
libmount now uses poll() syscall to verify /proc/self/mountinfo file consistence
and it re-read the file if modified during previous read call.  
                             
mount(8) now provides a new command-line option --target-prefix to mount, for
example, fstab to an alternative location. This feature is usable, for example,
for chroots or containers.               
                             
mount(8) now allows to use -o together with --all, for example, "mount --all
-o ro --target-prefix /foo" will mount real-only all filesystems from fstab to
/foo.              
                             
lsblk(8) provides new columns FSVER (filesystem version) and PARTTYPENAME
(human-readable partition type).
                             
lsblk(8) reads device properties from /dev/<devname> text file when executed
with --sysroot. This is usable for tests and dumps.
                             
sfdisk(8) uses progress bar for --move-data and data move is now significantly
faster than in previous versions as it does not use fsync during the data move
(use --move-use-fsync to disable this feature).



Changes between v2.34 and v2.35
-------------------------------

agetty:
   - Remove superfluous fflush()  [Stanislav Brabec]
   - add --show-issue to review issue output  [Karel Zak]
   - add support for /run/issue and /usr/lib/issue  [Karel Zak]
   - keep freed issue file pointer zeroized  [Karel Zak]
   - return proper value if compiled without ISSUEDIR support  [Patrick Steinhardt]
   - simplify code in dolog() preprocessor blocks  [Sami Kerola]
bash-completion:
   - (unshare) add --map-current-user  [Karel Zak]
   - Add fallback for symlinks/images  [Kevin Locke]
   - Add non-canonical device fallback  [Kevin Locke]
   - Standardize fsck/mkfs file/device  [Kevin Locke]
   - update for new script tools  [Karel Zak]
   - update options  [Sami Kerola]
   - update script, scriptlive, and scriptreplay files  [Sami Kerola]
blkid:
   - (man) add note about udev to --list-one  [Karel Zak]
   - retport block size of a filesystem  [Mikulas Patocka]
build-sys:
   - .gitignore hwclock-parse-date.c  [Karel Zak]
   - Include <stdlib.h> in ./configure wchar_t test  [Florian Weimer]
   - add --with-cryptsetup to config-gen.d/all.conf  [Karel Zak]
   - add UL_REQUIRES_ARCH()  [Karel Zak]
   - add missing NR underscore to UL_CHECK_SYSCALL()  [Sami Kerola]
   - add missing header  [Karel Zak]
   - check for linux/capability.h  [Karel Zak]
   - cleanup prefixed used for tests  [Karel Zak]
   - fix UTIL_LINUX_PT_SGI_H macro [lgtm scan]  [Karel Zak]
   - fix build  with pty  [Karel Zak]
   - fix out-of-tree build for hwclock  [Karel Zak]
   - fix typo  [Karel Zak]
   - improve hwclock CMOS dependences  [Karel Zak]
   - introduce $sysconfstaticdir  [Karel Zak]
   - make scriptlive optional  [Samuel Thibault]
   - release++ (v2.35-rc1)  [Karel Zak]
   - release++ (v2.35-rc2)  [Karel Zak]
   - remove duplicate includes  [Karel Zak]
   - support 'none' for parallel tests  [Karel Zak]
   - use parse-date() only for hwclock  [Karel Zak]
cal:
   - (man) make -w, -m and --iso relation more obvious  [Karel Zak]
cfdisk:
   - check mnt_table_parse_fstab() return code [coverity scan]  [Karel Zak]
chfn:
   - don't append extra tailing commas  [Karel Zak]
choom:
   - improve docs  [Karel Zak]
chsh:
   - replace getpw unsafe functions with xgetpw  [Quentin Rameau]
cleanup:
   - Remove some spurious spaces  [Elliott Mitchell]
colcrt:
   - make seek to \n more robust  [Karel Zak]
column:
   - fix outputing empty column at the end of line  [Yousong Zhou]
   - pass control struct to local_wcstok()  [Sami Kerola]
cript:
   - always use decimal point numbers in logs  [Karel Zak]
disk-utils:
   - docs  fix sfdisk(8) man page typo  [Matthew Krupcale]
dmesg:
   - add --noescape  [Karel Zak]
   - do not stop on \0  [Karel Zak]
   - fix output hex encoding  [Karel Zak]
doc:
   - howto-man-page.txt  Use font macros instead of font escapes  [Bjarni Ingi Gislason]
docs:
   - Fix adjtime documentation  [Pierre Labastie]
   - add GPLv3 text  [Karel Zak]
   - add bjd-pfq to AUTHORS (rev.c co-author)  [Karel Zak]
   - add irqtop to TODO  [Karel Zak]
   - add non-signalfd PTY request to TODO  [Karel Zak]
   - add sfdisk --dump and --backup improvements to TODO  [Karel Zak]
   - add v2.35-ReleaseNotes  [Karel Zak]
   - correct su.1 runuser reference from section 8 to 1  [Sami Kerola]
   - fix mixtyped constant.  [Andrius Štikonas]
   - fix typos [fossies codespell scan]  [Karel Zak]
   - remove implemented TODO items  [Karel Zak]
   - try to find broken man references and fix them  [Sami Kerola]
   - update AUTHORS file  [Karel Zak]
   - update howto-tests.txt  [Karel Zak]
   - update v2.35-ReleaseNotes  [Karel Zak]
   - update year in libs docs  [Karel Zak]
   - we have 2019 already  [Karel Zak]
eject:
   - use O_EXCL on default  [Karel Zak]
fallocate:
   - fallocate.1 List gfs2 as supporting punch-hole  [Andrew Price]
fdformat:
   - cast before lseek [lgtm scan]  [Karel Zak]
fdisk:
   - Correct handling of hybrid MBR  [Elliott Mitchell]
   - add hint about --wipe to warning  [Karel Zak]
   - cleanup wipe warning  [Karel Zak]
   - fix quit dialog for non-libreadline version  [Karel Zak]
   - make quit question more usable  [Karel Zak]
   - use 'r' to return from MBR to GPT  [Karel Zak]
fsfreeze:
   - remove unnecessary condition [lgtm scan]  [Karel Zak]
fstrim:
   - fix systemd service protection  [Karel Zak]
   - ignore non-directory mountpoints  [Karel Zak]
hexdump:
   - add header file guards [lgtm scan]  [Karel Zak]
hwclock:
   - add SPDX-License-Identifier(s)  [Karel Zak]
   - report rtc open() errors on --verbose  [Karel Zak]
   - use CMOS clock only if available  [Carlos Santos]
include:
   - add some missing licence stuff to header files  [Karel Zak]
include/all-io:
   - remove unnecessary condition [lgtm scan]  [Karel Zak]
include/closestream:
   - avoid close more than once  [Karel Zak]
   - fix assignment to read-only standard streams  [Patrick Steinhardt]
include/pidfd-utils:
   - small cleanup  [Karel Zak]
include/strutils:
   - add strdup_between_structs()  [Karel Zak]
   - add strrealloc()  [Karel Zak]
include/xalloc:
   - ensure xstrdup() and xstrndup() returns nonnull attribute  [Sami Kerola]
   - reindent function bodies to unify indentation  [Sami Kerola]
   - use multiline function declarations  [Sami Kerola]
isosize:
   - move ISO size functions into a shared header  [Daniel Drake]
kill:
   - add another ifdef  [Karel Zak]
   - add missing ifdefs  [Karel Zak]
   - deallocate follow_ups [assan]  [Karel Zak]
   - make man page more informative about --timeout  [Karel Zak]
   - report features on -V, add lish_header initialization  [Karel Zak]
   - use pidfd system calls to implement --timeout option  [Sami Kerola]
last:
   - replace strncat() with more robust mem2strcpy()  [Sami Kerola]
lib:
   - add _PATH_TMP fallback  [Karel Zak]
   - add missing license headers  [Karel Zak]
lib/fileutils:
   - add close_all_fds()  [Karel Zak]
lib/loopdev.c:
lib/path:
   - add ul_path_stat(), fix absolute paths  [Karel Zak]
   - fix missing header for `struct stat`  [Patrick Steinhardt]
   - make sure ul_path_read_buffer() derminate result  [Karel Zak]
lib/pty:
   - allow use callback from mainloop  [Karel Zak]
   - make sure we not use closed FD  [Karel Zak]
   - reset mainloop timeout on signal  [Karel Zak]
   - save sigmask, add API to free all resources  [Karel Zak]
lib/pty-session:
   - add generic PTY container code  [Karel Zak]
   - add log callbacks  [Karel Zak]
   - add loggin callback to code, follow return codes  [Karel Zak]
   - fix compilation  [Karel Zak]
   - improve debug messages  [Karel Zak]
   - make wait_child callback optional  [Karel Zak]
   - simplify example/test code  [Karel Zak]
lib/pwdutils:
   - add xgetpwuid  [Quentin Rameau]
lib/randutils:
   - re-licensing back to BSD  [Karel Zak]
lib/timeutils:
   - add %Y-%m-%dT%H %M %S to parse_timestamp()  [Karel Zak]
lib/ttyutils:
   - avoid checking same thing twice  [Sami Kerola]
libblkid:
   - (drbd) fix comment formatting  [Karel Zak]
   - (drbd) simplify padding  [Karel Zak]
   - (xfs) external log  check for regular xfs on more sectors  [Mauricio Faria de Oliveira]
   - (xfs) fix sector size calculation  [Karel Zak]
   - (zfs) don't probe whole-disk areas covered by partitions  [Karel Zak]
   - Fix documentation in libblkid header  [John Baublitz]
   - check for medium on CDMROMs probing  [Karel Zak]
   - check number of test_blkid_save arguments correctly  [Sami Kerola]
   - check status for the current CDROM slot  [Karel Zak]
   - do not interpret NTFS as MBR  [Karel Zak]
   - fix address sanitizer issues  [Sami Kerola]
   - fix file descriptor leak in blkid_verify()  [Karel Zak]
   - improve MD I/O size calculation [lgtm scan]  [Karel Zak]
   - improve handling of ISO files with partition tables  [Daniel Drake]
   - improve identification of ISO9660 partition  [Daniel Drake]
   - improve vfat entries calculation [lgtm scan]  [Karel Zak]
   - open device in nonblock mode.  [Michal Suchanek]
   - remove unnecessary condition [lgtm scan]  [Karel Zak]
   - udf  Fix reporting UDF 2.60 revision for Mac OS X disks  [Pali Rohár]
libdisk:
   - write sample output to stdout  [Karel Zak]
libfdisk:
   - (MBR) use 0xEA partition type by BootLoaderSpecification  [Karel Zak]
   - (bsd) cast before ask [lgtm scan]  [Karel Zak]
   - (docs) add notes about fdisk_enable_wipe()  [Karel Zak]
   - (gpt) add GUID for APFS containers  [Ernesto A. Fernández]
   - (gpt) cast number of entries [lgtm scan]  [Karel Zak]
   - (gpt) fix hybrid MBR detection, fix 'w'  [Karel Zak]
   - (script) support shortcuts in the type= field  [Karel Zak]
   - Fix double free of *_chs strings in fdisk_partition  [Vojtech Trefny]
   - Space before first partition may not be aligned  [Evan Green]
   - add fdisk_assign_device_by_fd()  [Karel Zak]
   - add fdisk_script_set_table()  [Karel Zak]
   - add sector-size to dump  [Karel Zak]
   - cleanup fdisk_deassign_device() docs  [Karel Zak]
   - consolidate strdup() use  [Karel Zak]
   - don't use FAT as MBR  [Karel Zak]
   - don't use NTFS as MBR  [Karel Zak]
   - fix fdisk_script_get_table()  [Karel Zak]
   - fix typos  [Marcos Mello]
   - fix variable shadowing  [Sami Kerola]
   - improve Sun partitions calculation [lgtm scan]  [Karel Zak]
   - improve partition copy on resize  [Karel Zak]
   - move GPT partition types to include/  [Karel Zak]
   - refer to partx(8) rather than to kpartx(8)  [Karel Zak]
   - use grain as small as possible  [Karel Zak]
libfidk:
   - (dos) fix tiny partitions calculation  [Karel Zak]
libmount:
   - (monitor) remove dead code [coverity scan]  [Karel Zak]
   - Add libselinux dependency to pkgconfig file  [Masami Hiramatsu]
   - Keep the mnt_tab info for the existent dest in mnt_copy_fs()  [Kevin Hao]
   - Recognize more FUSE pseudofs (avfsd, lxcfs, vmware-vmblock)  [Darsey Litzenberger]
   - add support for verity devices via libcryptsetup  [Luca Boccassi]
   - add target prefix support  [Karel Zak]
   - add verity to mount -V output  [Karel Zak]
   - allow use -o together with --all  [Karel Zak]
   - cleanup strdup() use in context, add reg.test  [Karel Zak]
   - do not obscure return code when checking verity options  [Luca Boccassi]
   - don't access struct member, use API  [Karel Zak]
   - don't use /proc/mounts fallback if filename specified  [Karel Zak]
   - fix comment referring to passno field  [Patrick Steinhardt]
   - fix free() call on error  [Karel Zak]
   - fix mnt_context_next_remount()  [Karel Zak]
   - fix potential null pointer dereference  [Sami Kerola]
   - fix typo  [Karel Zak]
   - fix typo in mnt_context_prepare_helper() [lgtm scan]  [Karel Zak]
   - improve X-mount.mkdir for non-root users  [Karel Zak]
   - improve mountinfo reliability  [Karel Zak]
   - make sure optsmode is initialized  [Karel Zak]
   - move context fs merge to separate function  [Karel Zak]
   - save current FS setting as template  [Karel Zak]
   - use fmemopen() in more robust way [coverity scan]  [Karel Zak]
   - use strdup_between_structs()  [Karel Zak]
   - use vsnprintf() in more robust way [coverity scan]  [Karel Zak]
libsmartcols:
   - cleanup and extend padding functionality  [Karel Zak]
libuuid:
   - add header file guard [lgtm scan]  [Karel Zak]
login:
   - reduce file-descriptors cleanup overhead  [Karel Zak]
   - simplify string handling  [Sami Kerola]
login-utils:
   - add header file guards [lgtm scan]  [Karel Zak]
losetup:
   - Typo fix  [Stanislav Brabec]
lsblk:
   - add FSVER (filesystem version) column  [Karel Zak]
   - add FSVER to --fs  [Karel Zak]
   - add PARTTYPENAME column  [Karel Zak]
   - fix -E segfault  [Karel Zak]
   - force to print PKNAME for partition  [Karel Zak]
   - never fallback to udev/blkid on --sysroot  [Karel Zak]
   - on --sysroot read attributes from /dev/<devname> text file  [Karel Zak]
   - read also GROUP,OWNER and MODE from dumps  [Karel Zak]
   - update man description of -f / --fs for current columns  [Vladimir Slavik]
lscpu:
   - (man) add note about cache sizes  [Karel Zak]
   - Add HiSilicon aarch64 tsv110 cpupart  [John Garry]
   - add a new columns to --cache  [Karel Zak]
   - make code more readable [lgtm scan]  [Karel Zak]
   - prefer memcpy() to manual pointer arithmetic  [Sami Kerola]
   - top-level DMI function refactoring  [Karel Zak]
lslogins:
   - assume unterminated strings in wtmp/btmp [coverity scan]  [Karel Zak]
man:
   - improve script and scriptreplay formatting style  [Sami Kerola]
man pages:
   - Add a comma after "e.g." and "i.e."  [Bjarni Ingi Gislason]
   - Change a HYPHEN-MINUS (-) to a minus (\-) for options and numbers  [Bjarni Ingi Gislason]
   - Fix misuse of two-fonts macros  [Bjarni Ingi Gislason]
   - Make the number of .RS/.RE equal  [Bjarni Ingi Gislason]
misc:
   - fix typos [codespell]  [Sami Kerola]
   - replaces atexit(close_stdout) with new close_stdout_atexit()  [Karel Zak]
mkswap:
   - cast before lseek [lgtm scan]  [Karel Zak]
mount:
   - (dm-verity) update man page  [Karel Zak]
   - (man) document --target-prefix  [Karel Zak]
   - (man) small typo fixes  [Merlin Büge]
   - add --target-prefix  [Karel Zak]
   - add verity example to man page  [Karel Zak]
   - no exit on EPERM, continue without suid  [Karel Zak]
mountpoint:
   - add --nofollow option  [Sami Kerola]
nologin:
   - Prevent error from su -c  [Stanislav Brabec]
   - silently ignore well known shell command-line options  [Sami Kerola]
partx:
   - document -d vs. --nr and fix test  [Karel Zak]
   - don't report ENXIO as error on -d  [Karel Zak]
po:
   - add pt.po (from translationproject.org)  [Pedro Albuquerque]
   - merge changes  [Karel Zak]
   - remove possibility to translate static option arguments  [Sami Kerola]
   - update cs.po (from translationproject.org)  [Petr Písař]
   - update de.po (from translationproject.org)  [Mario Blättermann]
   - update es.po (from translationproject.org)  [Antonio Ceballos Roa]
   - update fr.po (from translationproject.org)  [Frédéric Marchal]
   - update hr.po (from translationproject.org)  [Božidar Putanec]
   - update ja.po (from translationproject.org)  [Takeshi Hamasaki]
   - update pl.po (from translationproject.org)  [Jakub Bogusz]
   - update pt.po (from translationproject.org)  [Pedro Albuquerque]
   - update pt_BR.po (from translationproject.org)  [Rafael Fontenelle]
   - update zh_CN.po (from translationproject.org)  [Boyuan Yang]
po/update-potfiles:
   - fallback to `find` when git doesn't work  [Jan Chren (rindeal)]
renice:
   - fix --help text  [Karel Zak]
   - fix arguments description in --help  [Karel Zak]
script:
   - add --echo  [Karel Zak]
   - add --log-in  [Karel Zak]
   - add --logging-format  [Karel Zak]
   - add debug messages around waitpid()  [Karel Zak]
   - add missing exit()  [Karel Zak]
   - add more information to timing log  [Karel Zak]
   - add multistream timing file initialization  [Karel Zak]
   - add note about --log-in and passwords  [Karel Zak]
   - add option --log-out  [Karel Zak]
   - add option --log-timing  [Karel Zak]
   - allow to use the same log for more streams  [Karel Zak]
   - cleanup info logging  [Karel Zak]
   - cleanup logs freeing  [Karel Zak]
   - cleanup usage  [Karel Zak]
   - default to new format when new features expected  [Karel Zak]
   - document SIGUSR1  [Karel Zak]
   - fix ECHO use, improve shell exec  [Karel Zak]
   - fix man page on --logging-format  [Karel Zak]
   - fix signalfd use  [Karel Zak]
   - fix typos [codespell]  [Sami Kerola]
   - follow --logging-format on -t  [Karel Zak]
   - listen to SIGUSR1, flush logs on the signal  [Karel Zak]
   - log additional information  [Karel Zak]
   - log file usage refactoring  [Karel Zak]
   - make --help more readable  [Karel Zak]
   - make optional argument more robust  [Karel Zak]
   - remove unused variable  [Karel Zak]
   - report also timing file, do it only once  [Karel Zak]
   - support multi-stream logging  [Karel Zak]
   - use lib/pty-session  [Karel Zak]
   - write signals to timing file  [Karel Zak]
scriptlive:
   - add --command, cleanup shell exec  [Karel Zak]
   - add man page  [Karel Zak]
   - add new command to re-execute script(1) typescript  [Karel Zak]
   - free resource at the and  [Karel Zak]
   - keep ECHO flag, improve welcome message  [Karel Zak]
   - remove unnecessary variables  [Karel Zak]
   - run shell in PTY  [Karel Zak]
   - terminate session at end of the log  [Karel Zak]
   - translate error messages too  [Karel Zak]
scriptreplay:
   - (man) add missing --log-* oprions  [Karel Zak]
   - (utils) detect empty steps  [Karel Zak]
   - add --cr-mode  [Karel Zak]
   - add --log-{in,out,io} options  [Karel Zak]
   - add --stream  [Karel Zak]
   - add --stream to the man page  [Karel Zak]
   - add --summary  [Karel Zak]
   - add -T, --log-timing  [Karel Zak]
   - check for EOF  [Karel Zak]
   - cleanup usage()  [Karel Zak]
   - fix error path  [Karel Zak]
   - fix io data log use  [Karel Zak]
   - fix typo  [Karel Zak]
   - make data log file optional for --summary  [Karel Zak]
   - make sure timing file specified  [Karel Zak]
   - move all utils to script-playutils.{c,h}  [Karel Zak]
   - print info and signals  [Karel Zak]
   - restrict header name size  [Karel Zak]
   - rewrite to support new timing file format  [Karel Zak]
   - skip unwanted steps  [Karel Zak]
   - use struct timeval for delay  [Karel Zak]
setpwnam:
   - use more appropriate allocation size types  [Sami Kerola]
setterm:
   - cleanup usage() and man page  [Karel Zak]
   - fix --clear  [Karel Zak]
sfdisk:
   - (--move-data) add simple progress bar  [Karel Zak]
   - (--move-data) add speed to progress bar, don't use POSIX_FADV_DONTNEED  [Karel Zak]
   - (--move-data) keep step size based on optimal I/O  [Karel Zak]
   - (--move-data) make log optional  [Karel Zak]
   - (man) add note about interactive mode)  [Karel Zak]
   - (move-data) improve MiB/s progress bar  [Karel Zak]
   - add --move-use-fsync, disable fsync() by default  [Karel Zak]
   - add -J between mutually exclusive options  [Karel Zak]
   - check fdisk_script_set_header() return code [coverity scan]  [Karel Zak]
   - make --no-act usable for --move-data too  [Karel Zak]
   - mark --dump and --list-free as mutually exclusive  [Karel Zak]
   - remove never read value [clang scan]  [Karel Zak]
   - write all message to stdout  [Karel Zak]
strutils:
   - fix double free in strrealloc() [coverity scan]  [Karel Zak]
su:
   - (pty) remove unnecessary call  [Karel Zak]
   - More descriptive error message on malformed user entry  [Jakub Hrozek]
   - fix error message  [Karel Zak]
   - silence a useless warning  [Jouke Witteveen]
   - use lib/pty-session.c code for --pty  [Karel Zak]
sys-utils/manuals:
   - Make the number of the paired macros ".RS" and ".RE" equal  [Bjarni Ingi Gislason]
term-utils:
   - add header file guards [lgtm scan]  [Karel Zak]
tests:
   - (blkid) update regression tests (due to BLOCK_SIZE)  [Karel Zak]
   - (chfn) force to bash  [Karel Zak]
   - (col) avoid hardcoding of errno string  [Patrick Steinhardt]
   - (colcrt) fix reliance on EILSEQ in POSIX locale  [Patrick Steinhardt]
   - (colcrt) use env to set locale  [Karel Zak]
   - (column) use actually invalid multibytes to test encoding  [Patrick Steinhardt]
   - (fdisk) avoid hardcoding of errno string  [Patrick Steinhardt]
   - (fdisk) make sure we use the same sizes for MD devices  [Karel Zak]
   - (fdisk) update padding in output  [Karel Zak]
   - (getopt) remove unwanted paths from error output  [Karel Zak]
   - (libfdisk) remove reliance on buffer behaviour of standard streams  [Patrick Steinhardt]
   - (libmount) make X-* and x-* more robust  [Karel Zak]
   - (libsmartcols) add padding tests  [Karel Zak]
   - (lsblk) gather also udev attributes for new dumps  [Karel Zak]
   - (sfdisk) update move output  [Karel Zak]
   - Add test for current version (v5) of XFS filesystem  [Anatoly Pugachev]
   - Skip fdisk/mbr-nondos-mode on Sparc as unsupported  [Karel Zak, Anatoly Pugachev]
   - add --parsable, remove TS_OPT_parsable  [Karel Zak]
   - add missing 'ts_check_prog xz'  [Karel Zak]
   - add mount --all tests  [Karel Zak]
   - add new test for chfn gecos  [Radka Skvarilova]
   - add remaining stderr outputs  [Karel Zak]
   - add script and scriptlive replay  [Karel Zak]
   - another prompt fix  [Karel Zak]
   - commit add missing file  [Karel Zak]
   - don't show diff for TS_KNOWN_FAIL  [Karel Zak]
   - fix --unbuffered mode with ASAN  [Karel Zak]
   - fixes blkid/md-raidX-whole on Sparc  [Anatoly Pugachev]
   - improve unbuffer check  [Karel Zak]
   - lscpu s390 nested virtualization  [Radka Skvarilova]
   - make scriptlive output more portable  [Karel Zak]
   - mark mdadm tests as TS_KNOWN_FAIL  [Karel Zak]
   - mark scriptlive as KNOWN_FAILED  [Karel Zak]
   - remove device name from blkdiscard output  [Karel Zak]
   - remove option --posix  [Karel Zak]
   - remove reliance on buffer behaviour of stderr/stdout streams  [Patrick Steinhardt]
   - remove unbuffered ts_run feature  [Karel Zak]
   - split stdout and stderr  [Karel Zak]
   - upadet scriptlive output  [Karel Zak]
   - update fdisk output  [Karel Zak]
   - update sfdisk dumps  [Karel Zak]
   - update sfdisk wipe output  [Karel Zak]
   - use env and support both unbuffer/stdbuf  [Patrick Steinhardt]
   - use subtests for mountpoint(1)  [Karel Zak]
travis:
   - don't call tests in parallel for root  [Karel Zak]
   - fix sudo command line  [Karel Zak]
   - force non-parallel for root  [Karel Zak]
unshare:
   - add --keep-caps option  [James Peach]
   - add --map-current-user option  [James Peach]
   - cleanup capabilities code [lgtm scan]  [Karel Zak]
   - fix --map-current-user short option (-c)  [Matthew Harm Bekkema]
verity:
   - add new verity.roothashfile option  [Luca Boccassi]
   - add support for Forward Error Correction options  [Luca Boccassi]
   - ensure that hash_device and root_hash[_file] are passed together or not at all  [Luca Boccassi]
wdctl:
   - add control struct  [Karel Zak]
   - default to /dev/watchdog0  [Karel Zak]
   - remove duplicate include of <unistd.h>  [Patrick Steinhardt]
   - remove printing from main()  [Karel Zak]
   - rename watch dog info struct  [Karel Zak]
wipefs:
   - Allow explicitly enable/disablement  [Sam Voss]

- Allow explicitly enable/disablement  [Sam Voss]

