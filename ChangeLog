Changes between v2.31-rc2 and v2.31
--------------------------------------------

commit 27e66e59a39f63cfbc120bf1d26bc6b63f1b4f6c
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 19 13:08:49 2017 +0200

    build-sys: release++ (v2.31)
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 NEWS         | 4 ++++
 configure.ac | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 568624d5779d570da2b1de970e6b268d8d564f6b
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 19 13:06:00 2017 +0200

    docs: update v2.31-ReleaseNotes
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 Documentation/releases/v2.31-ReleaseNotes | 36 ++++++++++++++++++++++++++++++-
 1 file changed, 35 insertions(+), 1 deletion(-)

commit 9155d035e49bb3342a62eda36d7dd3f1d7da5080
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 19 13:00:06 2017 +0200

    docs: update AUTHORS file
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 AUTHORS | 3 +++
 1 file changed, 3 insertions(+)

commit 08b1bd5103db26e94bc0aaed6cb809c55f8ca93f
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 19 12:57:57 2017 +0200

    po: merge changes
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 po/ca.po          | 303 +++++++++++++++++++++++------------------------
 po/cs.po          | 303 +++++++++++++++++++++++------------------------
 po/da.po          | 303 +++++++++++++++++++++++------------------------
 po/de.po          | 303 +++++++++++++++++++++++------------------------
 po/es.po          | 303 +++++++++++++++++++++++------------------------
 po/et.po          | 303 +++++++++++++++++++++++------------------------
 po/eu.po          | 303 +++++++++++++++++++++++------------------------
 po/fi.po          | 303 +++++++++++++++++++++++------------------------
 po/fr.po          | 303 +++++++++++++++++++++++------------------------
 po/gl.po          | 303 +++++++++++++++++++++++------------------------
 po/hr.po          | 303 +++++++++++++++++++++++------------------------
 po/hu.po          | 303 +++++++++++++++++++++++------------------------
 po/id.po          | 303 +++++++++++++++++++++++------------------------
 po/it.po          | 303 +++++++++++++++++++++++------------------------
 po/ja.po          | 303 +++++++++++++++++++++++------------------------
 po/nl.po          | 303 +++++++++++++++++++++++------------------------
 po/pl.po          | 346 +++++++++++++++++++++++++++---------------------------
 po/pt_BR.po       | 346 +++++++++++++++++++++++++++---------------------------
 po/ru.po          | 303 +++++++++++++++++++++++------------------------
 po/sl.po          | 303 +++++++++++++++++++++++------------------------
 po/sv.po          | 346 +++++++++++++++++++++++++++---------------------------
 po/tr.po          | 303 +++++++++++++++++++++++------------------------
 po/uk.po          | 303 +++++++++++++++++++++++------------------------
 po/util-linux.pot | 305 +++++++++++++++++++++++------------------------
 po/vi.po          | 303 +++++++++++++++++++++++------------------------
 po/zh_CN.po       | 303 +++++++++++++++++++++++------------------------
 po/zh_TW.po       | 303 +++++++++++++++++++++++------------------------
 27 files changed, 4165 insertions(+), 4147 deletions(-)

commit 20fc15cfec8db7eb539af8fa7c980d28b45ffbb9
Author: Sebastian Rasmussen <sebras@gmail.com>
Date:   Thu Oct 19 12:53:09 2017 +0200

    po: update sv.po (from translationproject.org)

 po/sv.po | 821 ++++++++++++++++++++++++++-------------------------------------
 1 file changed, 335 insertions(+), 486 deletions(-)

commit ddc20b9ebd12dd244331240398de06af74531a08
Author: Rafael Fontenelle <rffontenelle@gmail.com>
Date:   Thu Oct 19 12:53:09 2017 +0200

    po: update pt_BR.po (from translationproject.org)

 po/pt_BR.po | 798 ++++++++++++++++++++++++------------------------------------
 1 file changed, 323 insertions(+), 475 deletions(-)

commit cf68f677923daae9fa1746e188f551934a5d96a8
Author: Jakub Bogusz <qboosh@pld-linux.org>
Date:   Thu Oct 19 12:53:09 2017 +0200

    po: update pl.po (from translationproject.org)

 po/pl.po | 1105 ++++++++++++++++++--------------------------------------------
 1 file changed, 319 insertions(+), 786 deletions(-)

commit 9e33cddd948958f07d4c9aa9f019f1c785c7b030
Author: Sami Kerola <kerolasa@iki.fi>
Date:   Mon Oct 16 19:15:44 2017 +0100

    rfkill: fix description name typo
    
    Commit 7d2a9960ad made gps to look like a GUID Partition Table.
    
    Reviewed-by: Karel Zak <kzak@redhat.com>
    Signed-off-by: Sami Kerola <kerolasa@iki.fi>

 sys-utils/rfkill.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit beaca64a6c47db927589487c6ad9539fabf11287
Author: Karel Zak <kzak@redhat.com>
Date:   Mon Oct 16 23:26:45 2017 +0200

    blkid: improve man page wording
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/blkid.8 | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 27fbfef33c1f23b5448b6cee856bcb3500b33c42
Author: Karel Zak <kzak@redhat.com>
Date:   Mon Oct 16 12:01:41 2017 +0200

    blkid: more info about ambivalent results to the man page
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/blkid.8 | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 12786a901520d7b30ff75ee8727221bf8a3089cb
Author: Karel Zak <kzak@redhat.com>
Date:   Mon Oct 16 11:45:41 2017 +0200

    blkid: cleanup man page info about lsblk
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/blkid.8 | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit e1b1c7b082803446ceb6fbc860d37c916c45c321
Author: James Sanford <jsanfordgit@froop.com>
Date:   Sat Oct 14 00:57:20 2017 -0700

    zramctl: fix show all non-zero zram devices
    
    Addresses: https://github.com/karelzak/util-linux/issues/521
    Signed-off-by: Karel Zak <kzak@redhat.com>

 sys-utils/zramctl.c | 37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit 4847bb5ee966e8798fa6056859c0f46e2d075f15
Author: James Sanford <jsanfordgit@froop.com>
Date:   Sat Oct 14 00:57:05 2017 -0700

    zramctl: remove unused ZRAM_EMPTY and blank line

 sys-utils/zramctl.c | 4 ----
 1 file changed, 4 deletions(-)

commit dec4fae21b9d0a9ea912c872c13e6be234e58009
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 14:53:32 2017 +0200

    rfkill: fix typo [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 sys-utils/rfkill.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9aa2a14b034dd87d257b45c4dc0f9566b2e7b8b
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 14:45:11 2017 +0200

    losetup: fix bitwise vs. logical typo [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 sys-utils/losetup.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9d4f78ef0e6ba8375957a5d5285ca0ee81e3998d
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 14:39:54 2017 +0200

    ipcs: fix memory leak [coverity scan]
    
    It's not important, but let's keep static analyzes happy.
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 sys-utils/ipcutils.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 2d4c226dfb715bfc8f422ed7da7ef7fe441c1e4e
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 14:21:27 2017 +0200

    logger: keep header generators independent on connection
    
    * avoid memory leaks
    * don't use incomplete or header after free()
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/logger.c | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 5794087292d97bb7dd28ae58bcf862c454bd5dcc
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 12:44:55 2017 +0200

    fincore: make sure mmap(NULL, ...) [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/fincore.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f086478af427914e019251548d6457738661d92a
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 12:01:25 2017 +0200

    libsmartcols: (sample) cleanup line separator usage
    
    * add comment to explain when nolinesep flag is necessary
    * force to print \n before switch to the next line to support
    
              ./sample-scols-continuous > file
    
    use case.
    
    Addresses: https://github.com/ignatenkobrain/python-smartcols/issues/18
    Signed-off-by: Karel Zak <kzak@redhat.com>

 libsmartcols/samples/continuous.c | 15 ++++++++++++---
 libsmartcols/src/table_print.c    |  3 ++-
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 1e46776263b49bce3a5565f5e0c5f417e0245d14
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 12 11:33:49 2017 +0200

    libsmartcols: (docs) add note about line separators
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 libsmartcols/src/table.c | 4 ++++
 1 file changed, 4 insertions(+)

commit be642826658afc3c5c642b917414121cf6f9290e
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 15:13:44 2017 +0200

    lslogins: fix possible memory leak [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 login-utils/lslogins.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a30f2a9b7a2897077a14520986098ec9b0245234
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 15:06:41 2017 +0200

    libsmartcols: don't call free_buffer() for uninitialized variable [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 libsmartcols/src/table_print.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 78c57214ade665eb692c3450b0d6e410e615147a
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 14:59:16 2017 +0200

    libmount: make sure we call stat() propely [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 libmount/src/context_mount.c | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit ee7f1e9e0857fbf6da3e360fe77f0c4c7bcf42eb
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 14:50:43 2017 +0200

    libfdisk: (sun) make math more robust [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 libblkid/src/partitions/sun.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1458c5c75013b65c23c024966d9f60aee49679cc
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 14:42:49 2017 +0200

    lib/pager: check open() return code [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 lib/pager.c | 2 ++
 1 file changed, 2 insertions(+)

commit 4bb91e84ffd3c87138b9de57ef2d4e6796d4fc78
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 14:40:37 2017 +0200

    lib/mbsedit: check wctomb() return code [coverity scan]
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 lib/mbsedit.c | 2 ++
 1 file changed, 2 insertions(+)

commit e92d55e6cbffc4ed7b516d2d36525d7ceb8aa7ab
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 11 12:35:24 2017 +0200

    logger: allow to reconnect on initial failed connect too
    
    The current code sets noact flag if unix socked connection failed. This is ugly.
    We want to reconnect always in all cases (well, except --socket-error=on).
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/logger.c | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 87ac63c9fa14a71084711eda8d4ddf6ad9515ce3
Author: Karel Zak <kzak@redhat.com>
Date:   Tue Oct 10 14:45:55 2017 +0200

    logger: add dummy fallback for OSX
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/logger.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit caf6ac6e596b09615b5f4bffe588ec1268d8c596
Author: Karel Zak <kzak@redhat.com>
Date:   Tue Oct 10 13:56:30 2017 +0200

    logger: reconnect on failed send()
    
    The libc syslog() reconnects on failed send(). We need the same thing
    as logger(1) is expected as long time running tool. For example
    recommended Apache configuration is:
    
            ErrorLog "| /usr/bin/logger -t apache_error -p local6.debug"
    
    The issue is that connection endpoint (e.g. syslogd) maybe restarted.
    The simple way how to test is:
    
            for i in $(seq 0 3600); do echo "This is message number $i"; sleep 1; done | logger --tcp --server 127.0.0.1 --port 514
    
    and restart your syslog. The current implementation gets SIGPIPE or
    write warning message, but it never reconnect.
    
    Addresses: https://github.com/karelzak/util-linux/issues/363
    Signed-off-by: Karel Zak <kzak@redhat.com>

 misc-utils/logger.c | 47 ++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 38 insertions(+), 9 deletions(-)

commit 55833ba9b2d54f7eac80284cfd7f0ca186a6475c
Merge: 1f06d754b cf41837f5
Author: Karel Zak <kzak@redhat.com>
Date:   Tue Oct 10 12:52:19 2017 +0200

    Merge branch 'mount-typo' of https://github.com/Liam-Ryan/util-linux
    
    * 'mount-typo' of https://github.com/Liam-Ryan/util-linux:
      Fixed typo in mount.8

commit 1f06d754be70b500fd88b0b3b1e0d2c8877f7b09
Author: Karel Zak <kzak@redhat.com>
Date:   Tue Oct 10 12:06:09 2017 +0200

    setsid: document fork(2) usage
    
    Addresses: https://github.com/karelzak/util-linux/issues/518
    Signed-off-by: Karel Zak <kzak@redhat.com>

 Documentation/TODO | 5 +++++
 sys-utils/setsid.1 | 5 ++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit cf41837f57207d30e088c33c9450e8854b656df7
Author: Liam Ryan <liamryandev@gmail.com>
Date:   Mon Oct 9 17:41:42 2017 +0100

    Fixed typo in mount.8
    
    Signed-off-by: Liam Ryan <liamryandev@gmail.com>

 sys-utils/mount.8 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 949e83997906ab8dd8442f28d74c34bb5a2395ee
Author: Karel Zak <kzak@redhat.com>
Date:   Thu Oct 5 11:07:41 2017 +0200

    agetty: fix /etc/os-release parsing
    
    For example /etc/os-release:
    
            VERSION="26 (Twenty Six)"
            VERSION_ID=26
    
    agetty for \S{VERSION} returns
    
            _ID=26
    
    because the parser does nor check for '=' after variable name.
    
    Addresses: https://bugzilla.redhat.com/show_bug.cgi?id=1498462
    Signed-off-by: Karel Zak <kzak@redhat.com>

 term-utils/agetty.c | 6 ++++++
 1 file changed, 6 insertions(+)

commit a1aba7794e11fd90fc28e947bdf91fc0642da852
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 4 11:45:21 2017 +0200

    docs: (TODO) make PMBR boot flag more user-friendly
    
    Signed-off-by: Karel Zak <kzak@redhat.com>

 Documentation/TODO | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit c4e60bc0807b04ab104594abc83301481d5d5995
Author: Karel Zak <kzak@redhat.com>
Date:   Wed Oct 4 10:08:08 2017 +0200

    losetup: fix conflicting types for ‘loopcxt_set_blocksize’
    
    Reported-by: Lars Wendler <polynomial-c@gentoo.org>
    Signed-off-by: Karel Zak <kzak@redhat.com>

 lib/loopdev.c | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)
